
                    Nyquest Technology Co., Ltd.

NYASM 2.42

    ADDR  OPCODE/VALUE              LINE   TAG  SOURCE                   STATEMENT    

                                    1-    1     ;--------------------------------------------------------
                                    1-    2     ; File Created by SDCC : free open source ISO C Compiler 
                                    1-    3     ; Version 4.2.2 #0 (MSVC)
                                    1-    4     ;--------------------------------------------------------
                                    1-    5     ; NY8A port
                                    1-    6     ;--------------------------------------------------------
                                    1-    7     	.file	"BSP\key.c"
                                    1-    8     	list	p=NY8A054E,c=on
                                    1-    9     	#include "ny8a054e.inc"
                                    2-    1     #include "common.inc"
                                    3-    1     ;; header file for 8 bit series assembly -*- mode:asm; coding:utf-8; -*-
                                    3-    2     ;; author    Ting
                                    3-    3     ;; date      2020-12-24
                                    3-    4     ;;
                                    3-    5     ;; # constant definition
                                    3-    6     ;;
                                    3-    7     ;; ## instruction result store destination
                                    3-    8     ;;  - W: the result is stored in the ACC.
                                    3-    9     ;;  - F: the result is stored back in register.
                                    3-   10     ;; ## flag name in STATUS register
                                    3-   11     ;;  - C, DC, Z
                                    3-   12     ;;
                                    3-   13     ;; # macro define
                                    3-   14     ;;
                                    3-   15     ;; ## RETURN, used by C compiler, end of function
                                    3-   16     ;; ## PAGESEL, empty macro, maybe used by C compiler (bug?)
                                    3-   17     ;; ## BANKSEL, replace by .banksel pseudo command, empty if disable bank.
                                    3-   18     ;; ## MGOTO, replace by LGOTO (ic<=2K word) or FGOTO (ic>2K word)
                                    3-   19     ;; ## MCALL, same as above
                                    3-   20     ;;
                                    3-   21     W       EQU 0
                                    3-   21     ;W = 0
                                    3-   22     F       EQU 1
                                    3-   22     ;F = 1
                                    3-   23     C		EQU	0
                                    3-   23     ;C = 0
                                    3-   24     DC		EQU	1
                                    3-   24     ;DC = 1
                                    3-   25     Z		EQU	2
                                    3-   25     ;Z = 2
                                    3-   28     ;; common register for all series
                                    3-   29     INDF    EQU 0x00
                                    3-   29     ;INDF = 0
                                    3-   30     PCL     EQU 0x02
                                    3-   30     ;PCL = 2
                                    3-   31     STATUS  EQU 0x03
                                    3-   31     ;STATUS = 3
                                    3-   32     FSR     EQU 0x04
                                    3-   32     ;FSR = 4
                                    3-   33     PCHBUF  EQU 0x0A
                                    3-   33     ;PCHBUF = 10
                                    1-   11     ;--------------------------------------------------------
                                    1-   12     ; external declarations
                                    1-   13     ;--------------------------------------------------------
                                    1-   14     	extern	_usart_send_string
                                    1-   15     	extern	_usart_send_byte
                                    1-   16     	extern	_usart_init
                                    1-   17     	extern	_send_ble_packet
                                    1-   18     	extern	_delay_40us
                                    1-   19     	extern	_delay_us
                                    1-   20     	extern	_delay_250ms
                                    1-   21     	extern	_delay_ms
                                    1-   22     	extern	_clear_ram
                                    1-   23     	extern	_multi_16b
                                    1-   24     	extern	_T0MD
                                    1-   25     	extern	_PCON1
                                    1-   26     	extern	_CMPCR
                                    1-   27     	extern	_BODCON
                                    1-   28     	extern	_PS0CV
                                    1-   29     	extern	_APHCON
                                    1-   30     	extern	_IOSTB
                                    1-   31     	extern	_IOSTA
                                    1-   32     	extern	_PWM5RH
                                    1-   33     	extern	_PWM5DUTY
                                    1-   34     	extern	_P5CR1
                                    1-   35     	extern	_PWM4DUTY
                                    1-   36     	extern	_P4CR1
                                    1-   37     	extern	_PS3CV
                                    1-   38     	extern	_PWM3DUTY
                                    1-   39     	extern	_T3CR2
                                    1-   40     	extern	_T3CR1
                                    1-   41     	extern	_TMR3
                                    1-   42     	extern	_OSCCR
                                    1-   43     	extern	_PWM2DUTY
                                    1-   44     	extern	_P2CR1
                                    1-   45     	extern	_TBHD
                                    1-   46     	extern	_TBHP
                                    1-   47     	extern	_IRCR
                                    1-   48     	extern	_BZ1CR
                                    1-   49     	extern	_PS1CV
                                    1-   50     	extern	_PWM1DUTY
                                    1-   51     	extern	_T1CR2
                                    1-   52     	extern	_T1CR1
                                    1-   53     	extern	_TMR1
                                    1-   54     	extern	_TM34RH
                                    1-   55     	extern	_TMRH
                                    1-   56     	extern	_PCHBUF
                                    1-   57     	extern	_STATUS
                                    1-   58     	extern	_PCL
                                    1-   59     	extern	_TMR0
                                    1-   60     	extern	_INTE2bits
                                    1-   61     	extern	_RFCbits
                                    1-   62     	extern	_INTEDGbits
                                    1-   63     	extern	_AWUCONbits
                                    1-   64     	extern	_INTFbits
                                    1-   65     	extern	_INTEbits
                                    1-   66     	extern	_BPHCONbits
                                    1-   67     	extern	_ABPLCONbits
                                    1-   68     	extern	_BWUCONbits
                                    1-   69     	extern	_PCONbits
                                    1-   70     	extern	_PORTBbits
                                    1-   71     	extern	_PORTAbits
                                    1-   73     	extern PSAVE
                                    1-   74     	extern SSAVE
                                    1-   75     	extern WSAVE
                                    1-   76     	extern STK12
                                    1-   77     	extern ___STK12
                                    1-   78     	extern STK11
                                    1-   79     	extern ___STK11
                                    1-   80     	extern STK10
                                    1-   81     	extern ___STK10
                                    1-   82     	extern STK09
                                    1-   83     	extern ___STK09
                                    1-   84     	extern STK08
                                    1-   85     	extern ___STK08
                                    1-   86     	extern STK07
                                    1-   87     	extern ___STK07
                                    1-   88     	extern STK06
                                    1-   89     	extern ___STK06
                                    1-   90     	extern STK05
                                    1-   91     	extern ___STK05
                                    1-   92     	extern STK04
                                    1-   93     	extern ___STK04
                                    1-   94     	extern STK03
                                    1-   95     	extern ___STK03
                                    1-   96     	extern STK02
                                    1-   97     	extern ___STK02
                                    1-   98     	extern STK01
                                    1-   99     	extern ___STK01
                                    1-  100     	extern STK00
                                    1-  101     	extern ___STK00
                                    1-  102     ;--------------------------------------------------------
                                    1-  103     ; global declarations
                                    1-  104     ;--------------------------------------------------------
                                    1-  105     	extern	_Check_Keydown
                                    1-  106     	extern	_key_init
                                    1-  107     	extern	_set_PB_low
                                    1-  108     	extern	_set_PA_low
                                    1-  109     	extern	_INTE2
                                    1-  110     	extern	_RFC
                                    1-  111     	extern	_INTEDG
                                    1-  112     	extern	_AWUCON
                                    1-  113     	extern	_INTF
                                    1-  114     	extern	_INTE
                                    1-  115     	extern	_BPHCON
                                    1-  116     	extern	_ABPLCON
                                    1-  117     	extern	_BWUCON
                                    1-  118     	extern	_PCON
                                    1-  119     	extern	_PORTB
                                    1-  120     	extern	_PORTA
                                    1-  121     	extern	_SLEEP_STATUS
                                    1-  123     ;--------------------------------------------------------
                                    1-  124     ; global definitions
                                    1-  125     ;--------------------------------------------------------
                                    1-  126     ;--------------------------------------------------------
                                    1-  127     ; absolute symbol definitions
                                    1-  128     ;--------------------------------------------------------
                                    1-  129     ;--------------------------------------------------------
                                    1-  130     ; compiler-defined variables
                                    1-  131     ;--------------------------------------------------------
                                    1-  132     .segment "uninit"
     0000                           1-  133     r0x1001:
                                    1-  134     	.res	1
                                    1-  135     .segment "uninit"
     0000                           1-  136     r0x1002:
                                    1-  137     	.res	1
                                    1-  138     .segment "uninit"
     0000                           1-  139     r0x1004:
                                    1-  140     	.res	1
                                    1-  141     .segment "uninit"
     0000                           1-  142     r0x1003:
                                    1-  143     	.res	1
                                    1-  144     .segment "uninit"
     0000                           1-  145     r0x1005:
                                    1-  146     	.res	1
                                    1-  147     ;--------------------------------------------------------
                                    1-  148     ; initialized data
                                    1-  149     ;--------------------------------------------------------
                                    1-  151     .segment "idata"
     0000                           1-  152     _SLEEP_STATUS:
     0000 0001                      1-  155     	dw	0x01	; 1
                                    1-  158     .segment "code"
     0000                           1-  159     ___str_0:
     0000 206B                      1-  160     	retia 0x6b ; 'k'
     0001 2065                      1-  161     	retia 0x65 ; 'e'
     0002 2079                      1-  162     	retia 0x79 ; 'y'
     0003 2020                      1-  163     	retia 0x20 ; ' '
     0004 2064                      1-  164     	retia 0x64 ; 'd'
     0005 206F                      1-  165     	retia 0x6f ; 'o'
     0006 2077                      1-  166     	retia 0x77 ; 'w'
     0007 206E                      1-  167     	retia 0x6e ; 'n'
     0008 200D                      1-  168     	retia 0x0d ; '.'
     0009 200A                      1-  169     	retia 0x0a ; '.'
     000A 2000                      1-  170     	retia 0x00 ; '.'
                                    1-  172     .segment "code"
     0000                           1-  173     ___str_1:
     0000 2042                      1-  174     	retia 0x42 ; 'B'
     0001 2030                      1-  175     	retia 0x30 ; '0'
     0002 2031                      1-  176     	retia 0x31 ; '1'
     0003 2031                      1-  177     	retia 0x31 ; '1'
     0004 2031                      1-  178     	retia 0x31 ; '1'
     0005 202F                      1-  179     	retia 0x2f ; '/'
     0006 2072                      1-  180     	retia 0x72 ; 'r'
     0007 202F                      1-  181     	retia 0x2f ; '/'
     0008 206E                      1-  182     	retia 0x6e ; 'n'
     0009 2000                      1-  183     	retia 0x00 ; '.'
                                    1-  185     .segment "code"
     0000                           1-  186     ___str_2:
     0000 2042                      1-  187     	retia 0x42 ; 'B'
     0001 2031                      1-  188     	retia 0x31 ; '1'
     0002 2030                      1-  189     	retia 0x30 ; '0'
     0003 2031                      1-  190     	retia 0x31 ; '1'
     0004 2031                      1-  191     	retia 0x31 ; '1'
     0005 202F                      1-  192     	retia 0x2f ; '/'
     0006 2072                      1-  193     	retia 0x72 ; 'r'
     0007 202F                      1-  194     	retia 0x2f ; '/'
     0008 206E                      1-  195     	retia 0x6e ; 'n'
     0009 2000                      1-  196     	retia 0x00 ; '.'
                                    1-  198     .segment "code"
     0000                           1-  199     ___str_3:
     0000 2042                      1-  200     	retia 0x42 ; 'B'
     0001 2031                      1-  201     	retia 0x31 ; '1'
     0002 2031                      1-  202     	retia 0x31 ; '1'
     0003 2030                      1-  203     	retia 0x30 ; '0'
     0004 2031                      1-  204     	retia 0x31 ; '1'
     0005 202F                      1-  205     	retia 0x2f ; '/'
     0006 2072                      1-  206     	retia 0x72 ; 'r'
     0007 202F                      1-  207     	retia 0x2f ; '/'
     0008 206E                      1-  208     	retia 0x6e ; 'n'
     0009 2000                      1-  209     	retia 0x00 ; '.'
                                    1-  211     .segment "code"
     0000                           1-  212     ___str_4:
     0000 2042                      1-  213     	retia 0x42 ; 'B'
     0001 2031                      1-  214     	retia 0x31 ; '1'
     0002 2031                      1-  215     	retia 0x31 ; '1'
     0003 2031                      1-  216     	retia 0x31 ; '1'
     0004 2030                      1-  217     	retia 0x30 ; '0'
     0005 202F                      1-  218     	retia 0x2f ; '/'
     0006 2072                      1-  219     	retia 0x72 ; 'r'
     0007 202F                      1-  220     	retia 0x2f ; '/'
     0008 206E                      1-  221     	retia 0x6e ; 'n'
     0009 2000                      1-  222     	retia 0x00 ; '.'
                                    1-  224     .segment "code"
     0000                           1-  225     ___str_5:
     0000 2041                      1-  226     	retia 0x41 ; 'A'
     0001 2030                      1-  227     	retia 0x30 ; '0'
     0002 2031                      1-  228     	retia 0x31 ; '1'
     0003 2031                      1-  229     	retia 0x31 ; '1'
     0004 2031                      1-  230     	retia 0x31 ; '1'
     0005 202F                      1-  231     	retia 0x2f ; '/'
     0006 2072                      1-  232     	retia 0x72 ; 'r'
     0007 202F                      1-  233     	retia 0x2f ; '/'
     0008 206E                      1-  234     	retia 0x6e ; 'n'
     0009 2000                      1-  235     	retia 0x00 ; '.'
                                    1-  237     .segment "code"
     0000                           1-  238     ___str_6:
     0000 2041                      1-  239     	retia 0x41 ; 'A'
     0001 2031                      1-  240     	retia 0x31 ; '1'
     0002 2030                      1-  241     	retia 0x30 ; '0'
     0003 2031                      1-  242     	retia 0x31 ; '1'
     0004 2031                      1-  243     	retia 0x31 ; '1'
     0005 202F                      1-  244     	retia 0x2f ; '/'
     0006 2072                      1-  245     	retia 0x72 ; 'r'
     0007 202F                      1-  246     	retia 0x2f ; '/'
     0008 206E                      1-  247     	retia 0x6e ; 'n'
     0009 2000                      1-  248     	retia 0x00 ; '.'
                                    1-  250     .segment "code"
     0000                           1-  251     ___str_7:
     0000 2041                      1-  252     	retia 0x41 ; 'A'
     0001 2031                      1-  253     	retia 0x31 ; '1'
     0002 2031                      1-  254     	retia 0x31 ; '1'
     0003 2030                      1-  255     	retia 0x30 ; '0'
     0004 2031                      1-  256     	retia 0x31 ; '1'
     0005 202F                      1-  257     	retia 0x2f ; '/'
     0006 2072                      1-  258     	retia 0x72 ; 'r'
     0007 202F                      1-  259     	retia 0x2f ; '/'
     0008 206E                      1-  260     	retia 0x6e ; 'n'
     0009 2000                      1-  261     	retia 0x00 ; '.'
                                    1-  263     .segment "code"
     0000                           1-  264     ___str_8:
     0000 2041                      1-  265     	retia 0x41 ; 'A'
     0001 2031                      1-  266     	retia 0x31 ; '1'
     0002 2031                      1-  267     	retia 0x31 ; '1'
     0003 2031                      1-  268     	retia 0x31 ; '1'
     0004 2030                      1-  269     	retia 0x30 ; '0'
     0005 202F                      1-  270     	retia 0x2f ; '/'
     0006 2072                      1-  271     	retia 0x72 ; 'r'
     0007 202F                      1-  272     	retia 0x2f ; '/'
     0008 206E                      1-  273     	retia 0x6e ; 'n'
     0009 2000                      1-  274     	retia 0x00 ; '.'
                                    1-  276     .segment "code"
     0000                           1-  277     ___str_9:
     0000 2073                      1-  278     	retia 0x73 ; 's'
     0001 2043                      1-  279     	retia 0x43 ; 'C'
     0002 206F                      1-  280     	retia 0x6f ; 'o'
     0003 2064                      1-  281     	retia 0x64 ; 'd'
     0004 2065                      1-  282     	retia 0x65 ; 'e'
     0005 2056                      1-  283     	retia 0x56 ; 'V'
     0006 2061                      1-  284     	retia 0x61 ; 'a'
     0007 206C                      1-  285     	retia 0x6c ; 'l'
     0008 2075                      1-  286     	retia 0x75 ; 'u'
     0009 2065                      1-  287     	retia 0x65 ; 'e'
     000A 203A                      1-  288     	retia 0x3a ; ':'
     000B 2000                      1-  289     	retia 0x00 ; '.'
                                    1-  290     ;--------------------------------------------------------
                                    1-  291     ; initialized absolute data
                                    1-  292     ;--------------------------------------------------------
                                    1-  293     ;--------------------------------------------------------
                                    1-  294     ; overlayable items in internal ram 
                                    1-  295     ;--------------------------------------------------------
                                    1-  296     ;	udata_ovr
                                    1-  297     ;--------------------------------------------------------
                                    1-  298     ; code
                                    1-  299     ;--------------------------------------------------------
                                    1-  300     ; code_key	code
                                    1-  301     ;***
                                    1-  302     ;  pBlock Stats: dbName = C
                                    1-  303     ;***
                                    1-  304     ;has an exit
                                    1-  305     ;functions called:
                                    1-  306     ;   _delay_ms
                                    1-  307     ;   _usart_send_string
                                    1-  308     ;   _usart_send_string
                                    1-  309     ;   _usart_send_string
                                    1-  310     ;   _usart_send_string
                                    1-  311     ;   _usart_send_string
                                    1-  312     ;   _set_PB_low
                                    1-  313     ;   _usart_send_string
                                    1-  314     ;   _usart_send_string
                                    1-  315     ;   _usart_send_string
                                    1-  316     ;   _usart_send_string
                                    1-  317     ;   _set_PA_low
                                    1-  318     ;   _usart_send_string
                                    1-  319     ;   _usart_send_byte
                                    1-  320     ;   _delay_ms
                                    1-  321     ;   _delay_ms
                                    1-  322     ;   _delay_ms
                                    1-  323     ;   _delay_ms
                                    1-  324     ;   _send_ble_packet
                                    1-  325     ;   _delay_ms
                                    1-  326     ;   _usart_send_string
                                    1-  327     ;   _usart_send_string
                                    1-  328     ;   _usart_send_string
                                    1-  329     ;   _usart_send_string
                                    1-  330     ;   _usart_send_string
                                    1-  331     ;   _set_PB_low
                                    1-  332     ;   _usart_send_string
                                    1-  333     ;   _usart_send_string
                                    1-  334     ;   _usart_send_string
                                    1-  335     ;   _usart_send_string
                                    1-  336     ;   _set_PA_low
                                    1-  337     ;   _usart_send_string
                                    1-  338     ;   _usart_send_byte
                                    1-  339     ;   _delay_ms
                                    1-  340     ;   _delay_ms
                                    1-  341     ;   _delay_ms
                                    1-  342     ;   _delay_ms
                                    1-  343     ;   _send_ble_packet
                                    1-  344     ;7 compiler assigned registers:
                                    1-  345     ;   r0x1001
                                    1-  346     ;   r0x1002
                                    1-  347     ;   r0x1003
                                    1-  348     ;   r0x1004
                                    1-  349     ;   r0x1005
                                    1-  350     ;   STK01
                                    1-  351     ;   STK00
                                    1-  352     ;; Starting pCode block
                                    1-  353     .segment "code"; module=key, function=_Check_Keydown
                                    1-  355     ;local variable name mapping:
     0000                           1-  359     _Check_Keydown:
                                    1-  360     ; 2 exit points
                                    1-  361     	.line	41, "BSP\key.c"; 	unsigned char KeyValue=0;
                                    1-  362     	BANKSEL	r0x1001
     0000 rrrr                      3-  109 m1      .banksel ram_address
     0001 02rr                      1-  363     	CLRR	r0x1001
                                    1-  364     	.line	45, "BSP\key.c"; 	KeyStatus = PORTB;
     0002 01rr                      1-  365     	MOVR	_PORTB,W
                                    1-  366     	BANKSEL	r0x1002
     0003 rrrr                      3-  109 m1      .banksel ram_address
     0004 00rr                      1-  367     	MOVAR	r0x1002
                                    1-  368     	.line	46, "BSP\key.c"; 	KeyStatus = KeyStatus & 0x0F;
     0005 210F                      1-  369     	MOVIA	0x0f
     0006 10rr                      1-  370     	ANDAR	r0x1002,F
                                    1-  371     	.line	47, "BSP\key.c"; 	if(KeyStatus != 0x0f)
     0007 01rr                      1-  372     	MOVR	r0x1002,W
     0008 240F                      1-  373     	XORIA	0x0f
     0009 0903                      1-  374     	BTRSS	STATUS,2
                                    1-  375     	MGOTO	_02092_DS_
     000A 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  376     	MGOTO	_02034_DS_
     000B 3rrr                      3-   62 m1      LGOTO rom_address
     000C                           1-  377     _02092_DS_:
                                    1-  378     	.line	49, "BSP\key.c"; 	delay_ms(10);
     000C 210A                      1-  379     	MOVIA	0x0a
                                    1-  380     	MCALL	_delay_ms
     000D 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  381     	.line	50, "BSP\key.c"; 	KeyStatus = PORTB;
     000E 01rr                      1-  382     	MOVR	_PORTB,W
                                    1-  383     	BANKSEL	r0x1002
     000F rrrr                      3-  109 m1      .banksel ram_address
     0010 00rr                      1-  384     	MOVAR	r0x1002
                                    1-  385     	.line	51, "BSP\key.c"; 	KeyStatus = KeyStatus & 0x0F;
     0011 210F                      1-  386     	MOVIA	0x0f
     0012 10rr                      1-  387     	ANDAR	r0x1002,F
                                    1-  388     	.line	52, "BSP\key.c"; 	if(KeyStatus != 0x0f)
     0013 01rr                      1-  389     	MOVR	r0x1002,W
     0014 240F                      1-  390     	XORIA	0x0f
     0015 0903                      1-  391     	BTRSS	STATUS,2
                                    1-  392     	MGOTO	_02093_DS_
     0016 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  393     	MGOTO	_02028_DS_
     0017 3rrr                      3-   62 m1      LGOTO rom_address
     0018                           1-  394     _02093_DS_:
                                    1-  395     	.line	54, "BSP\key.c"; 	usart_send_string("key down\r\n");
     0018 21rr                      1-  396     	MOVIA	((___str_0 + 0) >> 8) & 0xff
                                    1-  397     	BANKSEL	r0x1003
     0019 rrrr                      3-  109 m1      .banksel ram_address
     001A 00rr                      1-  398     	MOVAR	r0x1003
     001B 21rr                      1-  399     	MOVIA	(___str_0 + 0)
                                    1-  400     	BANKSEL	r0x1004
     001C rrrr                      3-  109 m1      .banksel ram_address
     001D 00rr                      1-  401     	MOVAR	r0x1004
     001E 2180                      1-  402     	MOVIA	0x80
                                    1-  403     	BANKSEL	r0x1005
     001F rrrr                      3-  109 m1      .banksel ram_address
     0020 00rr                      1-  404     	MOVAR	r0x1005
                                    1-  405     	BANKSEL	r0x1004
     0021 rrrr                      3-  109 m1      .banksel ram_address
     0022 01rr                      1-  406     	MOVR	r0x1004,W
     0023 00rr                      1-  407     	MOVAR	STK01
                                    1-  408     	BANKSEL	r0x1003
     0024 rrrr                      3-  109 m1      .banksel ram_address
     0025 01rr                      1-  409     	MOVR	r0x1003,W
     0026 00rr                      1-  410     	MOVAR	STK00
                                    1-  411     	BANKSEL	r0x1005
     0027 rrrr                      3-  109 m1      .banksel ram_address
     0028 01rr                      1-  412     	MOVR	r0x1005,W
                                    1-  413     	MCALL	_usart_send_string
     0029 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  414     	.line	55, "BSP\key.c"; 	SLEEP_STATUS = 0;
                                    1-  415     	BANKSEL	_SLEEP_STATUS
     002A rrrr                      3-  109 m1      .banksel ram_address
     002B 02rr                      1-  416     	CLRR	_SLEEP_STATUS
                                    1-  417     	.line	56, "BSP\key.c"; 	switch(KeyStatus)
                                    1-  418     	BANKSEL	r0x1002
     002C rrrr                      3-  109 m1      .banksel ram_address
     002D 01rr                      1-  419     	MOVR	r0x1002,W
     002E 2407                      1-  420     	XORIA	0x07
     002F 0903                      1-  421     	BTRSS	STATUS,2
                                    1-  422     	MGOTO	_02094_DS_
     0030 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  423     	MGOTO	_02020_DS_
     0031 3rrr                      3-   62 m1      LGOTO rom_address
     0032                           1-  424     _02094_DS_:
                                    1-  425     	BANKSEL	r0x1002
     0032 rrrr                      3-  109 m1      .banksel ram_address
     0033 01rr                      1-  426     	MOVR	r0x1002,W
     0034 240B                      1-  427     	XORIA	0x0b
     0035 0903                      1-  428     	BTRSS	STATUS,2
                                    1-  429     	MGOTO	_02095_DS_
     0036 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  430     	MGOTO	_02019_DS_
     0037 3rrr                      3-   62 m1      LGOTO rom_address
     0038                           1-  431     _02095_DS_:
                                    1-  432     	BANKSEL	r0x1002
     0038 rrrr                      3-  109 m1      .banksel ram_address
     0039 01rr                      1-  433     	MOVR	r0x1002,W
     003A 240D                      1-  434     	XORIA	0x0d
     003B 0903                      1-  435     	BTRSS	STATUS,2
                                    1-  436     	MGOTO	_02096_DS_
     003C 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  437     	MGOTO	_02018_DS_
     003D 3rrr                      3-   62 m1      LGOTO rom_address
     003E                           1-  438     _02096_DS_:
                                    1-  439     	BANKSEL	r0x1002
     003E rrrr                      3-  109 m1      .banksel ram_address
     003F 01rr                      1-  440     	MOVR	r0x1002,W
     0040 240E                      1-  441     	XORIA	0x0e
     0041 0903                      1-  442     	BTRSS	STATUS,2
                                    1-  443     	MGOTO	_02021_DS_
     0042 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  444     	.line	58, "BSP\key.c"; 	case(0X0e):	KeyValue=0x01;usart_send_string("B0111/r/n");break;
     0043 2101                      1-  445     	MOVIA	0x01
                                    1-  446     	BANKSEL	r0x1001
     0044 rrrr                      3-  109 m1      .banksel ram_address
     0045 00rr                      1-  447     	MOVAR	r0x1001
     0046 21rr                      1-  448     	MOVIA	((___str_1 + 0) >> 8) & 0xff
                                    1-  449     	BANKSEL	r0x1004
     0047 rrrr                      3-  109 m1      .banksel ram_address
     0048 00rr                      1-  450     	MOVAR	r0x1004
     0049 21rr                      1-  451     	MOVIA	(___str_1 + 0)
                                    1-  452     	BANKSEL	r0x1002
     004A rrrr                      3-  109 m1      .banksel ram_address
     004B 00rr                      1-  453     	MOVAR	r0x1002
     004C 2180                      1-  454     	MOVIA	0x80
                                    1-  455     	BANKSEL	r0x1003
     004D rrrr                      3-  109 m1      .banksel ram_address
     004E 00rr                      1-  456     	MOVAR	r0x1003
                                    1-  457     	BANKSEL	r0x1002
     004F rrrr                      3-  109 m1      .banksel ram_address
     0050 01rr                      1-  458     	MOVR	r0x1002,W
     0051 00rr                      1-  459     	MOVAR	STK01
                                    1-  460     	BANKSEL	r0x1004
     0052 rrrr                      3-  109 m1      .banksel ram_address
     0053 01rr                      1-  461     	MOVR	r0x1004,W
     0054 00rr                      1-  462     	MOVAR	STK00
                                    1-  463     	BANKSEL	r0x1003
     0055 rrrr                      3-  109 m1      .banksel ram_address
     0056 01rr                      1-  464     	MOVR	r0x1003,W
                                    1-  465     	MCALL	_usart_send_string
     0057 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  466     	MGOTO	_02021_DS_
     0058 3rrr                      3-   62 m1      LGOTO rom_address
     0059                           1-  467     _02018_DS_:
                                    1-  468     	.line	59, "BSP\key.c"; 	case(0X0d):	KeyValue=0x02;usart_send_string("B1011/r/n");break;
     0059 2102                      1-  469     	MOVIA	0x02
                                    1-  470     	BANKSEL	r0x1001
     005A rrrr                      3-  109 m1      .banksel ram_address
     005B 00rr                      1-  471     	MOVAR	r0x1001
     005C 21rr                      1-  472     	MOVIA	((___str_2 + 0) >> 8) & 0xff
                                    1-  473     	BANKSEL	r0x1004
     005D rrrr                      3-  109 m1      .banksel ram_address
     005E 00rr                      1-  474     	MOVAR	r0x1004
     005F 21rr                      1-  475     	MOVIA	(___str_2 + 0)
                                    1-  476     	BANKSEL	r0x1002
     0060 rrrr                      3-  109 m1      .banksel ram_address
     0061 00rr                      1-  477     	MOVAR	r0x1002
     0062 2180                      1-  478     	MOVIA	0x80
                                    1-  479     	BANKSEL	r0x1003
     0063 rrrr                      3-  109 m1      .banksel ram_address
     0064 00rr                      1-  480     	MOVAR	r0x1003
                                    1-  481     	BANKSEL	r0x1002
     0065 rrrr                      3-  109 m1      .banksel ram_address
     0066 01rr                      1-  482     	MOVR	r0x1002,W
     0067 00rr                      1-  483     	MOVAR	STK01
                                    1-  484     	BANKSEL	r0x1004
     0068 rrrr                      3-  109 m1      .banksel ram_address
     0069 01rr                      1-  485     	MOVR	r0x1004,W
     006A 00rr                      1-  486     	MOVAR	STK00
                                    1-  487     	BANKSEL	r0x1003
     006B rrrr                      3-  109 m1      .banksel ram_address
     006C 01rr                      1-  488     	MOVR	r0x1003,W
                                    1-  489     	MCALL	_usart_send_string
     006D 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  490     	MGOTO	_02021_DS_
     006E 3rrr                      3-   62 m1      LGOTO rom_address
     006F                           1-  491     _02019_DS_:
                                    1-  492     	.line	60, "BSP\key.c"; 	case(0X0b): KeyValue=0x03;usart_send_string("B1101/r/n");break;
     006F 2103                      1-  493     	MOVIA	0x03
                                    1-  494     	BANKSEL	r0x1001
     0070 rrrr                      3-  109 m1      .banksel ram_address
     0071 00rr                      1-  495     	MOVAR	r0x1001
     0072 21rr                      1-  496     	MOVIA	((___str_3 + 0) >> 8) & 0xff
                                    1-  497     	BANKSEL	r0x1004
     0073 rrrr                      3-  109 m1      .banksel ram_address
     0074 00rr                      1-  498     	MOVAR	r0x1004
     0075 21rr                      1-  499     	MOVIA	(___str_3 + 0)
                                    1-  500     	BANKSEL	r0x1002
     0076 rrrr                      3-  109 m1      .banksel ram_address
     0077 00rr                      1-  501     	MOVAR	r0x1002
     0078 2180                      1-  502     	MOVIA	0x80
                                    1-  503     	BANKSEL	r0x1003
     0079 rrrr                      3-  109 m1      .banksel ram_address
     007A 00rr                      1-  504     	MOVAR	r0x1003
                                    1-  505     	BANKSEL	r0x1002
     007B rrrr                      3-  109 m1      .banksel ram_address
     007C 01rr                      1-  506     	MOVR	r0x1002,W
     007D 00rr                      1-  507     	MOVAR	STK01
                                    1-  508     	BANKSEL	r0x1004
     007E rrrr                      3-  109 m1      .banksel ram_address
     007F 01rr                      1-  509     	MOVR	r0x1004,W
     0080 00rr                      1-  510     	MOVAR	STK00
                                    1-  511     	BANKSEL	r0x1003
     0081 rrrr                      3-  109 m1      .banksel ram_address
     0082 01rr                      1-  512     	MOVR	r0x1003,W
                                    1-  513     	MCALL	_usart_send_string
     0083 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  514     	MGOTO	_02021_DS_
     0084 3rrr                      3-   62 m1      LGOTO rom_address
     0085                           1-  515     _02020_DS_:
                                    1-  516     	.line	61, "BSP\key.c"; 	case(0X07):	KeyValue=0x04;usart_send_string("B1110/r/n");break;
     0085 2104                      1-  517     	MOVIA	0x04
                                    1-  518     	BANKSEL	r0x1001
     0086 rrrr                      3-  109 m1      .banksel ram_address
     0087 00rr                      1-  519     	MOVAR	r0x1001
     0088 21rr                      1-  520     	MOVIA	((___str_4 + 0) >> 8) & 0xff
                                    1-  521     	BANKSEL	r0x1004
     0089 rrrr                      3-  109 m1      .banksel ram_address
     008A 00rr                      1-  522     	MOVAR	r0x1004
     008B 21rr                      1-  523     	MOVIA	(___str_4 + 0)
                                    1-  524     	BANKSEL	r0x1002
     008C rrrr                      3-  109 m1      .banksel ram_address
     008D 00rr                      1-  525     	MOVAR	r0x1002
     008E 2180                      1-  526     	MOVIA	0x80
                                    1-  527     	BANKSEL	r0x1003
     008F rrrr                      3-  109 m1      .banksel ram_address
     0090 00rr                      1-  528     	MOVAR	r0x1003
                                    1-  529     	BANKSEL	r0x1002
     0091 rrrr                      3-  109 m1      .banksel ram_address
     0092 01rr                      1-  530     	MOVR	r0x1002,W
     0093 00rr                      1-  531     	MOVAR	STK01
                                    1-  532     	BANKSEL	r0x1004
     0094 rrrr                      3-  109 m1      .banksel ram_address
     0095 01rr                      1-  533     	MOVR	r0x1004,W
     0096 00rr                      1-  534     	MOVAR	STK00
                                    1-  535     	BANKSEL	r0x1003
     0097 rrrr                      3-  109 m1      .banksel ram_address
     0098 01rr                      1-  536     	MOVR	r0x1003,W
                                    1-  537     	MCALL	_usart_send_string
     0099 2rrr                      3-   65 m1      LCALL rom_address
     009A                           1-  538     _02021_DS_:
                                    1-  539     	.line	63, "BSP\key.c"; 	BPHCON = 0x3F;
     009A 213F                      1-  540     	MOVIA	0x3f
     009B 00rr                      1-  541     	MOVAR	_BPHCON
                                    1-  542     	.line	64, "BSP\key.c"; 	IOSTB = C_PB0_Output | C_PB1_Output | C_PB2_Output | C_PB3_Output;
     009C 0200                      1-  543     	CLRA	
     009D 000r                      1-  544     	IOST	_IOSTB
                                    1-  545     	.line	65, "BSP\key.c"; 	set_PB_low();
                                    1-  546     	MCALL	_set_PB_low
     009E 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  547     	.line	66, "BSP\key.c"; 	IOSTA = C_PA2_Input | C_PA3_Input | C_PA4_Input | C_PA5_Input;
     009F 213C                      1-  548     	MOVIA	0x3c
     00A0 000r                      1-  549     	IOST	_IOSTA
                                    1-  550     	.line	67, "BSP\key.c"; 	APHCON = 0xc3;
     00A1 21C3                      1-  551     	MOVIA	0xc3
     00A2 000r                      1-  552     	IOST	_APHCON
                                    1-  553     	.line	68, "BSP\key.c"; 	KeyStatus = PORTA;
     00A3 01rr                      1-  554     	MOVR	_PORTA,W
                                    1-  555     	BANKSEL	r0x1002
     00A4 rrrr                      3-  109 m1      .banksel ram_address
     00A5 00rr                      1-  556     	MOVAR	r0x1002
                                    1-  557     	.line	69, "BSP\key.c"; 	KeyStatus = KeyStatus & 0x3C;
     00A6 213C                      1-  558     	MOVIA	0x3c
     00A7 10rr                      1-  559     	ANDAR	r0x1002,F
                                    1-  560     	.line	70, "BSP\key.c"; 	switch(KeyStatus)
     00A8 01rr                      1-  561     	MOVR	r0x1002,W
     00A9 241C                      1-  562     	XORIA	0x1c
     00AA 0903                      1-  563     	BTRSS	STATUS,2
                                    1-  564     	MGOTO	_02097_DS_
     00AB 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  565     	MGOTO	_02025_DS_
     00AC 3rrr                      3-   62 m1      LGOTO rom_address
     00AD                           1-  566     _02097_DS_:
                                    1-  567     	BANKSEL	r0x1002
     00AD rrrr                      3-  109 m1      .banksel ram_address
     00AE 01rr                      1-  568     	MOVR	r0x1002,W
     00AF 242C                      1-  569     	XORIA	0x2c
     00B0 0903                      1-  570     	BTRSS	STATUS,2
                                    1-  571     	MGOTO	_02098_DS_
     00B1 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  572     	MGOTO	_02024_DS_
     00B2 3rrr                      3-   62 m1      LGOTO rom_address
     00B3                           1-  573     _02098_DS_:
                                    1-  574     	BANKSEL	r0x1002
     00B3 rrrr                      3-  109 m1      .banksel ram_address
     00B4 01rr                      1-  575     	MOVR	r0x1002,W
     00B5 2434                      1-  576     	XORIA	0x34
     00B6 0903                      1-  577     	BTRSS	STATUS,2
                                    1-  578     	MGOTO	_02099_DS_
     00B7 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  579     	MGOTO	_02023_DS_
     00B8 3rrr                      3-   62 m1      LGOTO rom_address
     00B9                           1-  580     _02099_DS_:
                                    1-  581     	BANKSEL	r0x1002
     00B9 rrrr                      3-  109 m1      .banksel ram_address
     00BA 01rr                      1-  582     	MOVR	r0x1002,W
     00BB 2438                      1-  583     	XORIA	0x38
     00BC 0903                      1-  584     	BTRSS	STATUS,2
                                    1-  585     	MGOTO	_02029_DS_
     00BD 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  586     	.line	72, "BSP\key.c"; 	case(0X38):	KeyValue=KeyValue;usart_send_string("A0111/r/n");break;
     00BE 21rr                      1-  587     	MOVIA	((___str_5 + 0) >> 8) & 0xff
                                    1-  588     	BANKSEL	r0x1004
     00BF rrrr                      3-  109 m1      .banksel ram_address
     00C0 00rr                      1-  589     	MOVAR	r0x1004
     00C1 21rr                      1-  590     	MOVIA	(___str_5 + 0)
                                    1-  591     	BANKSEL	r0x1002
     00C2 rrrr                      3-  109 m1      .banksel ram_address
     00C3 00rr                      1-  592     	MOVAR	r0x1002
     00C4 2180                      1-  593     	MOVIA	0x80
                                    1-  594     	BANKSEL	r0x1003
     00C5 rrrr                      3-  109 m1      .banksel ram_address
     00C6 00rr                      1-  595     	MOVAR	r0x1003
                                    1-  596     	BANKSEL	r0x1002
     00C7 rrrr                      3-  109 m1      .banksel ram_address
     00C8 01rr                      1-  597     	MOVR	r0x1002,W
     00C9 00rr                      1-  598     	MOVAR	STK01
                                    1-  599     	BANKSEL	r0x1004
     00CA rrrr                      3-  109 m1      .banksel ram_address
     00CB 01rr                      1-  600     	MOVR	r0x1004,W
     00CC 00rr                      1-  601     	MOVAR	STK00
                                    1-  602     	BANKSEL	r0x1003
     00CD rrrr                      3-  109 m1      .banksel ram_address
     00CE 01rr                      1-  603     	MOVR	r0x1003,W
                                    1-  604     	MCALL	_usart_send_string
     00CF 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  605     	MGOTO	_02029_DS_
     00D0 3rrr                      3-   62 m1      LGOTO rom_address
     00D1                           1-  606     _02023_DS_:
                                    1-  607     	.line	73, "BSP\key.c"; 	case(0X34):	KeyValue=KeyValue+0x04;usart_send_string("A1011/r/n");break;
     00D1 2104                      1-  608     	MOVIA	0x04
                                    1-  609     	BANKSEL	r0x1001
     00D2 rrrr                      3-  109 m1      .banksel ram_address
     00D3 03rr                      1-  610     	ADDAR	r0x1001,F
     00D4 21rr                      1-  611     	MOVIA	((___str_6 + 0) >> 8) & 0xff
                                    1-  612     	BANKSEL	r0x1004
     00D5 rrrr                      3-  109 m1      .banksel ram_address
     00D6 00rr                      1-  613     	MOVAR	r0x1004
     00D7 21rr                      1-  614     	MOVIA	(___str_6 + 0)
                                    1-  615     	BANKSEL	r0x1002
     00D8 rrrr                      3-  109 m1      .banksel ram_address
     00D9 00rr                      1-  616     	MOVAR	r0x1002
     00DA 2180                      1-  617     	MOVIA	0x80
                                    1-  618     	BANKSEL	r0x1003
     00DB rrrr                      3-  109 m1      .banksel ram_address
     00DC 00rr                      1-  619     	MOVAR	r0x1003
                                    1-  620     	BANKSEL	r0x1002
     00DD rrrr                      3-  109 m1      .banksel ram_address
     00DE 01rr                      1-  621     	MOVR	r0x1002,W
     00DF 00rr                      1-  622     	MOVAR	STK01
                                    1-  623     	BANKSEL	r0x1004
     00E0 rrrr                      3-  109 m1      .banksel ram_address
     00E1 01rr                      1-  624     	MOVR	r0x1004,W
     00E2 00rr                      1-  625     	MOVAR	STK00
                                    1-  626     	BANKSEL	r0x1003
     00E3 rrrr                      3-  109 m1      .banksel ram_address
     00E4 01rr                      1-  627     	MOVR	r0x1003,W
                                    1-  628     	MCALL	_usart_send_string
     00E5 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  629     	MGOTO	_02029_DS_
     00E6 3rrr                      3-   62 m1      LGOTO rom_address
     00E7                           1-  630     _02024_DS_:
                                    1-  631     	.line	74, "BSP\key.c"; 	case(0X2C): KeyValue=KeyValue+0x08;usart_send_string("A1101/r/n");break;
     00E7 2108                      1-  632     	MOVIA	0x08
                                    1-  633     	BANKSEL	r0x1001
     00E8 rrrr                      3-  109 m1      .banksel ram_address
     00E9 03rr                      1-  634     	ADDAR	r0x1001,F
     00EA 21rr                      1-  635     	MOVIA	((___str_7 + 0) >> 8) & 0xff
                                    1-  636     	BANKSEL	r0x1004
     00EB rrrr                      3-  109 m1      .banksel ram_address
     00EC 00rr                      1-  637     	MOVAR	r0x1004
     00ED 21rr                      1-  638     	MOVIA	(___str_7 + 0)
                                    1-  639     	BANKSEL	r0x1002
     00EE rrrr                      3-  109 m1      .banksel ram_address
     00EF 00rr                      1-  640     	MOVAR	r0x1002
     00F0 2180                      1-  641     	MOVIA	0x80
                                    1-  642     	BANKSEL	r0x1003
     00F1 rrrr                      3-  109 m1      .banksel ram_address
     00F2 00rr                      1-  643     	MOVAR	r0x1003
                                    1-  644     	BANKSEL	r0x1002
     00F3 rrrr                      3-  109 m1      .banksel ram_address
     00F4 01rr                      1-  645     	MOVR	r0x1002,W
     00F5 00rr                      1-  646     	MOVAR	STK01
                                    1-  647     	BANKSEL	r0x1004
     00F6 rrrr                      3-  109 m1      .banksel ram_address
     00F7 01rr                      1-  648     	MOVR	r0x1004,W
     00F8 00rr                      1-  649     	MOVAR	STK00
                                    1-  650     	BANKSEL	r0x1003
     00F9 rrrr                      3-  109 m1      .banksel ram_address
     00FA 01rr                      1-  651     	MOVR	r0x1003,W
                                    1-  652     	MCALL	_usart_send_string
     00FB 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  653     	MGOTO	_02029_DS_
     00FC 3rrr                      3-   62 m1      LGOTO rom_address
     00FD                           1-  654     _02025_DS_:
                                    1-  655     	.line	75, "BSP\key.c"; 	case(0X1C):	KeyValue=KeyValue+0x0c;usart_send_string("A1110/r/n");break;
     00FD 210C                      1-  656     	MOVIA	0x0c
                                    1-  657     	BANKSEL	r0x1001
     00FE rrrr                      3-  109 m1      .banksel ram_address
     00FF 03rr                      1-  658     	ADDAR	r0x1001,F
     0100 21rr                      1-  659     	MOVIA	((___str_8 + 0) >> 8) & 0xff
                                    1-  660     	BANKSEL	r0x1004
     0101 rrrr                      3-  109 m1      .banksel ram_address
     0102 00rr                      1-  661     	MOVAR	r0x1004
     0103 21rr                      1-  662     	MOVIA	(___str_8 + 0)
                                    1-  663     	BANKSEL	r0x1002
     0104 rrrr                      3-  109 m1      .banksel ram_address
     0105 00rr                      1-  664     	MOVAR	r0x1002
     0106 2180                      1-  665     	MOVIA	0x80
                                    1-  666     	BANKSEL	r0x1003
     0107 rrrr                      3-  109 m1      .banksel ram_address
     0108 00rr                      1-  667     	MOVAR	r0x1003
                                    1-  668     	BANKSEL	r0x1002
     0109 rrrr                      3-  109 m1      .banksel ram_address
     010A 01rr                      1-  669     	MOVR	r0x1002,W
     010B 00rr                      1-  670     	MOVAR	STK01
                                    1-  671     	BANKSEL	r0x1004
     010C rrrr                      3-  109 m1      .banksel ram_address
     010D 01rr                      1-  672     	MOVR	r0x1004,W
     010E 00rr                      1-  673     	MOVAR	STK00
                                    1-  674     	BANKSEL	r0x1003
     010F rrrr                      3-  109 m1      .banksel ram_address
     0110 01rr                      1-  675     	MOVR	r0x1003,W
                                    1-  676     	MCALL	_usart_send_string
     0111 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  677     	.line	76, "BSP\key.c"; 	}
                                    1-  678     	MGOTO	_02029_DS_
     0112 3rrr                      3-   62 m1      LGOTO rom_address
     0113                           1-  679     _02028_DS_:
                                    1-  680     	.line	89, "BSP\key.c"; 	return 0;
     0113 2100                      1-  681     	MOVIA	0x00
                                    1-  682     	MGOTO	_02035_DS_
     0114 3rrr                      3-   62 m1      LGOTO rom_address
     0115                           1-  683     _02029_DS_:
                                    1-  684     	.line	91, "BSP\key.c"; 	APHCON = 0xff;
     0115 21FF                      1-  685     	MOVIA	0xff
     0116 000r                      1-  686     	IOST	_APHCON
                                    1-  687     	.line	92, "BSP\key.c"; 	IOSTA = C_PA2_Output | C_PA3_Output | C_PA4_Output | C_PA5_Output;
     0117 0200                      1-  688     	CLRA	
     0118 000r                      1-  689     	IOST	_IOSTA
                                    1-  690     	.line	93, "BSP\key.c"; 	set_PA_low();
                                    1-  691     	MCALL	_set_PA_low
     0119 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  692     	.line	94, "BSP\key.c"; 	IOSTB = C_PB0_Input | C_PB1_Input | C_PB2_Input | C_PB3_Input;
     011A 210F                      1-  693     	MOVIA	0x0f
     011B 000r                      1-  694     	IOST	_IOSTB
                                    1-  695     	.line	95, "BSP\key.c"; 	BPHCON = 0x30;
     011C 2130                      1-  696     	MOVIA	0x30
     011D 00rr                      1-  697     	MOVAR	_BPHCON
                                    1-  698     	.line	96, "BSP\key.c"; 	sCodeValue = KeyValue - 0x01;
                                    1-  699     	BANKSEL	r0x1001
     011E rrrr                      3-  109 m1      .banksel ram_address
     011F 06rr                      1-  700     	DECR	r0x1001,W
                                    1-  701     	BANKSEL	r0x1002
     0120 rrrr                      3-  109 m1      .banksel ram_address
     0121 00rr                      1-  702     	MOVAR	r0x1002
                                    1-  703     	.line	97, "BSP\key.c"; 	usart_send_string("sCodeValue:");usart_send_byte(sCodeValue);
     0122 21rr                      1-  704     	MOVIA	((___str_9 + 0) >> 8) & 0xff
                                    1-  705     	BANKSEL	r0x1003
     0123 rrrr                      3-  109 m1      .banksel ram_address
     0124 00rr                      1-  706     	MOVAR	r0x1003
     0125 21rr                      1-  707     	MOVIA	(___str_9 + 0)
                                    1-  708     	BANKSEL	r0x1004
     0126 rrrr                      3-  109 m1      .banksel ram_address
     0127 00rr                      1-  709     	MOVAR	r0x1004
     0128 2180                      1-  710     	MOVIA	0x80
                                    1-  711     	BANKSEL	r0x1005
     0129 rrrr                      3-  109 m1      .banksel ram_address
     012A 00rr                      1-  712     	MOVAR	r0x1005
                                    1-  713     	BANKSEL	r0x1004
     012B rrrr                      3-  109 m1      .banksel ram_address
     012C 01rr                      1-  714     	MOVR	r0x1004,W
     012D 00rr                      1-  715     	MOVAR	STK01
                                    1-  716     	BANKSEL	r0x1003
     012E rrrr                      3-  109 m1      .banksel ram_address
     012F 01rr                      1-  717     	MOVR	r0x1003,W
     0130 00rr                      1-  718     	MOVAR	STK00
                                    1-  719     	BANKSEL	r0x1005
     0131 rrrr                      3-  109 m1      .banksel ram_address
     0132 01rr                      1-  720     	MOVR	r0x1005,W
                                    1-  721     	MCALL	_usart_send_string
     0133 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  722     	BANKSEL	r0x1002
     0134 rrrr                      3-  109 m1      .banksel ram_address
     0135 01rr                      1-  723     	MOVR	r0x1002,W
                                    1-  724     	MCALL	_usart_send_byte
     0136 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  725     	.line	99, "BSP\key.c"; 	KeyStatus = PORTB;
     0137 01rr                      1-  726     	MOVR	_PORTB,W
                                    1-  727     	BANKSEL	r0x1004
     0138 rrrr                      3-  109 m1      .banksel ram_address
     0139 00rr                      1-  728     	MOVAR	r0x1004
                                    1-  729     	.line	100, "BSP\key.c"; 	KeyStatus = KeyStatus & 0x0F;
     013A 210F                      1-  730     	MOVIA	0x0f
     013B 10rr                      1-  731     	ANDAR	r0x1004,F
                                    1-  732     	.line	101, "BSP\key.c"; 	while(KeyStatus != 0x0F)     // 等待按键释放
     013C 01rr                      1-  733     	MOVR	r0x1004,W
     013D 240F                      1-  734     	XORIA	0x0f
     013E 0903                      1-  735     	BTRSS	STATUS,2
                                    1-  736     	MGOTO	_02100_DS_
     013F 3rrr                      3-   62 m1      LGOTO rom_address
                                    1-  737     	MGOTO	_02034_DS_
     0140 3rrr                      3-   62 m1      LGOTO rom_address
     0141                           1-  738     _02100_DS_:
                                    1-  739     	.line	105, "BSP\key.c"; 	PORTBbits.PB4 = 1;
     0141 1Arr                      1-  740     	BSR	_PORTBbits,4
                                    1-  741     	.line	106, "BSP\key.c"; 	delay_ms(2);
     0142 2102                      1-  742     	MOVIA	0x02
                                    1-  743     	MCALL	_delay_ms
     0143 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  744     	.line	107, "BSP\key.c"; 	PORTBbits.PB4 = 0;
     0144 1Err                      1-  745     	BCR	_PORTBbits,4
                                    1-  746     	.line	108, "BSP\key.c"; 	delay_ms(2);
     0145 2102                      1-  747     	MOVIA	0x02
                                    1-  748     	MCALL	_delay_ms
     0146 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  749     	.line	109, "BSP\key.c"; 	PORTBbits.PB4 = 1;
     0147 1Arr                      1-  750     	BSR	_PORTBbits,4
                                    1-  751     	.line	110, "BSP\key.c"; 	delay_ms(2);
     0148 2102                      1-  752     	MOVIA	0x02
                                    1-  753     	MCALL	_delay_ms
     0149 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  754     	.line	111, "BSP\key.c"; 	PORTBbits.PB4 = 0;
     014A 1Err                      1-  755     	BCR	_PORTBbits,4
                                    1-  756     	.line	112, "BSP\key.c"; 	delay_ms(2);
     014B 2102                      1-  757     	MOVIA	0x02
                                    1-  758     	MCALL	_delay_ms
     014C 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  759     	.line	116, "BSP\key.c"; 	send_ble_packet(sCodeValue);
                                    1-  760     	BANKSEL	r0x1002
     014D rrrr                      3-  109 m1      .banksel ram_address
     014E 01rr                      1-  761     	MOVR	r0x1002,W
                                    1-  762     	MCALL	_send_ble_packet
     014F 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  763     	.line	117, "BSP\key.c"; 	SLEEP_STATUS = 1;
     0150 2101                      1-  764     	MOVIA	0x01
                                    1-  765     	BANKSEL	_SLEEP_STATUS
     0151 rrrr                      3-  109 m1      .banksel ram_address
     0152 00rr                      1-  766     	MOVAR	_SLEEP_STATUS
                                    1-  767     	.line	118, "BSP\key.c"; 	return KeyValue;
                                    1-  768     	BANKSEL	r0x1001
     0153 rrrr                      3-  109 m1      .banksel ram_address
     0154 01rr                      1-  769     	MOVR	r0x1001,W
                                    1-  770     	MGOTO	_02035_DS_
     0155 3rrr                      3-   62 m1      LGOTO rom_address
     0156                           1-  771     _02034_DS_:
                                    1-  772     	.line	121, "BSP\key.c"; 	return 0;
     0156 2100                      1-  773     	MOVIA	0x00
     0157                           1-  774     _02035_DS_:
                                    1-  775     	.line	122, "BSP\key.c"; 	}
                                    1-  776     	RETURN	
     0157 0010                      3-   39 m1      ret
                                    1-  777     ; exit point of _Check_Keydown
                                    1-  779     ;***
                                    1-  780     ;  pBlock Stats: dbName = C
                                    1-  781     ;***
                                    1-  782     ;has an exit
                                    1-  783     ;functions called:
                                    1-  784     ;   _set_PA_low
                                    1-  785     ;   _set_PA_low
                                    1-  786     ;; Starting pCode block
                                    1-  787     .segment "code"; module=key, function=_key_init
     0000                           1-  789     _key_init:
                                    1-  790     ; 2 exit points
                                    1-  791     	.line	27, "BSP\key.c"; 	IOSTA = C_PA2_Output | C_PA3_Output | C_PA4_Output | C_PA5_Output; //| C_PA6_Input | C_PA7_Input;
     0000 0200                      1-  792     	CLRA	
     0001 000r                      1-  793     	IOST	_IOSTA
                                    1-  794     	.line	29, "BSP\key.c"; 	set_PA_low();
                                    1-  795     	MCALL	_set_PA_low
     0002 2rrr                      3-   65 m1      LCALL rom_address
                                    1-  796     	.line	32, "BSP\key.c"; 	IOSTB = C_PB0_Input | C_PB1_Input | C_PB2_Input | C_PB3_Input | C_PB4_Output;
     0003 210F                      1-  797     	MOVIA	0x0f
     0004 000r                      1-  798     	IOST	_IOSTB
                                    1-  799     	.line	33, "BSP\key.c"; 	BPHCON = 0x30;
     0005 2130                      1-  800     	MOVIA	0x30
     0006 00rr                      1-  801     	MOVAR	_BPHCON
                                    1-  802     	.line	35, "BSP\key.c"; 	PORTBbits.PB4 = 0;
     0007 1Err                      1-  803     	BCR	_PORTBbits,4
                                    1-  804     	.line	37, "BSP\key.c"; 	}
                                    1-  805     	RETURN	
     0008 0010                      3-   39 m1      ret
                                    1-  806     ; exit point of _key_init
                                    1-  808     ;***
                                    1-  809     ;  pBlock Stats: dbName = C
                                    1-  810     ;***
                                    1-  811     ;has an exit
                                    1-  812     ;; Starting pCode block
                                    1-  813     .segment "code"; module=key, function=_set_PB_low
     0000                           1-  815     _set_PB_low:
                                    1-  816     ; 2 exit points
                                    1-  817     	.line	18, "BSP\key.c"; 	PORTBbits.PB0 = 0;
     0000 1Crr                      1-  818     	BCR	_PORTBbits,0
                                    1-  819     	.line	19, "BSP\key.c"; 	PORTBbits.PB1 = 0;
     0001 1Crr                      1-  820     	BCR	_PORTBbits,1
                                    1-  821     	.line	20, "BSP\key.c"; 	PORTBbits.PB2 = 0;
     0002 1Drr                      1-  822     	BCR	_PORTBbits,2
                                    1-  823     	.line	21, "BSP\key.c"; 	PORTBbits.PB3 = 0;
     0003 1Drr                      1-  824     	BCR	_PORTBbits,3
                                    1-  825     	.line	22, "BSP\key.c"; 	}
                                    1-  826     	RETURN	
     0004 0010                      3-   39 m1      ret
                                    1-  827     ; exit point of _set_PB_low
                                    1-  829     ;***
                                    1-  830     ;  pBlock Stats: dbName = C
                                    1-  831     ;***
                                    1-  832     ;has an exit
                                    1-  833     ;; Starting pCode block
                                    1-  834     .segment "code"; module=key, function=_set_PA_low
     0000                           1-  836     _set_PA_low:
                                    1-  837     ; 2 exit points
                                    1-  838     	.line	11, "BSP\key.c"; 	PORTAbits.PA2 = 0;
     0000 1Drr                      1-  839     	BCR	_PORTAbits,2
                                    1-  840     	.line	12, "BSP\key.c"; 	PORTAbits.PA3 = 0;
     0001 1Drr                      1-  841     	BCR	_PORTAbits,3
                                    1-  842     	.line	13, "BSP\key.c"; 	PORTAbits.PA4 = 0;
     0002 1Err                      1-  843     	BCR	_PORTAbits,4
                                    1-  844     	.line	14, "BSP\key.c"; 	PORTAbits.PA5 = 0;
     0003 1Err                      1-  845     	BCR	_PORTAbits,5
                                    1-  846     	.line	15, "BSP\key.c"; 	}
                                    1-  847     	RETURN	
     0004 0010                      3-   39 m1      ret
                                    1-  848     ; exit point of _set_PA_low
                                    1-  851     ;	code size estimation:
                                    1-  852     ;	  277+   86 =   363 instructions (  898 byte)
                                    1-  854     	end

SYMBOL TABLE            TYPE     VALUE
__pin_count__           Constant 0000000E
__processor__           Constant 00800544
C                       Constant 00000000
DC                      Constant 00000001
ENABLE_RAM_BANK         Constant 00000001
F                       Constant 00000001
FSR                     Constant 00000004
INDF                    Constant 00000000
PCHBUF                  Constant 0000000A
PCL                     Constant 00000002
STATUS                  Constant 00000003
USEFGOTO                Constant 00000000
W                       Constant 00000000
Z                       Constant 00000002


SOURCE FILE TABLE
001 OBJ/BSP\key.s
002 ny8a054e.inc
003 common.inc
004 BSP\key.c

PROCESSOR    = NY8A054E (8 bits)
PROGRAM ROM  = 0x00000000 - 0x000007FF
DATA ROM     = 0x00000000 - 0x000007FF
RESERVED MEM = 0x00000800 - 0x00000810
SRAM / SFR   = 0x00000000 - 0x00000000
